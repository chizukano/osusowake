<div class="container my-3 p-2 bg-white">

  <div class="row">
    <div class="col-7 mt-3">
      <div class="container">
        <h4><%= @cooking_session.meal.name %></h4>
        <%= cl_image_tag @cooking_session.meal.photo.key, class: "card-img-top mb-2 img-fluid rounded", width: 1000,  height: 500, crop: :fill %>
        <p><%= @cooking_session.meal.description %></p>
      </div>

    </div>
    <div class="col-5 mt-5">
      <%= render "user/chefs/card", chef: @cooking_session.chef %>
        <div style="height: 300px;"
          class="mb-1 rounded"
          data-controller="mapbox"
          data-mapbox-markers-value="<%= @markers.to_json %>"
          data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
        </div>


        <div class="card mb-1">
          <div class="card-body">
            <%= @cooking_session.distance_to(last_location.coordinates).round(1) %>km away from you
          </div>
        </div>

        <div class="card p-2">
          <div class="card-body">
            <h5>Do you want a piece of <%= @cooking_session.chef.user.username %>'s <%= @cooking_session.meal.name %>?</h5>
            <%= simple_form_for [@cooking_session, @reservation] do |f| %>
              <h6>It will be <strong>ready in <%=  distance_of_time_in_words_to_now(@cooking_session.end_at) %></strong> at <strong><%= @cooking_session.address %></strong></h6>
              <br>
                <%= f.input :portion_count, as: :check_boxes, collection: 1..@cooking_session.portions_left, label: "Yes, please! Give me...", wrapper: :vertical_collection_inline %>
                <p>portions.</p>
                <%= f.submit "Let's get Osusowake!", class: "btn btn-outline-success mb-3 text-align-right" %>
            <% end %>
          </div>
        </div>

    </div>
  </div>
</div>
